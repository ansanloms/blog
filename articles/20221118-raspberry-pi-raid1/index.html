<!DOCTYPE html>
<html lang="ja"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Raspberry Pi 上に RAID 1 構成を組みました</title><link rel="stylesheet" href="/blog/styles/palette.css"><link rel="stylesheet" href="/blog/styles/general.css"><link rel="stylesheet" href="/blog/styles/layout.css"><link rel="stylesheet" href="/blog/styles/top.css"><link rel="stylesheet" href="/blog/styles/article.css"></head><body><div class="container"><div class="content"><ul class="meta"><li class="item"><span class="label">Created at</span><span class="value">2022-11-17</span></li></ul><article class="article"><div><h1 id="raspberry-pi-上に-raid-1-構成を組みました"><a href="#raspberry-pi-上に-raid-1-構成を組みました">Raspberry Pi 上に RAID 1 構成を組みました</a></h1>
<p><a href="/blog/articles/20210504-raspberry-pi-nas-hdd/">このまえ</a>構築した NAS の HDD を RAID 1 構成のものに変えます。</p>
<h2 id="用意したもの"><a href="#用意したもの">用意したもの</a></h2>
<ul>
<li><a href="https://www.amazon.co.jp/gp/product/B084LFM8G7">Yottamaster HDD ケース FS2RU3</a></li>
<li><a href="https://www.amazon.co.jp/dp/B09LH9XLB9">WD Blue 3.5インチ HDD 8TB WD80EAZZ</a></li>
</ul>
<p>購入した HDD ケースはハードウェア RAID をサポートしていますが、自前で Raspberry Pi (Ubuntu) 上にソフトウェア RAID を構成します。</p>
<h2 id="実施内容"><a href="#実施内容">実施内容</a></h2>
<h3 id="raspberry-pi-に-hdd-を接続する"><a href="#raspberry-pi-に-hdd-を接続する">Raspberry Pi に HDD を接続する</a></h3>
<p>HDD ケースに HDD 入れて Raspberry Pi に繋ぎます。</p>
<p><code>lsblk</code> で確認してみます。 <code>/dev/sdb</code> と <code>/dev/sdc</code> で 2 台認識しています。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> lsblk</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">sdb</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">      8:16</span><span style="color:#B48EAD;--shiki-light:#B48EAD">   0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   7.3T</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> disk</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">└─sdb1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   8:17</span><span style="color:#B48EAD;--shiki-light:#B48EAD">   0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   7.3T</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> part</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">sdc</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">      8:32</span><span style="color:#B48EAD;--shiki-light:#B48EAD">   0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   7.3T</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> disk</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">└─sdc1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   8:33</span><span style="color:#B48EAD;--shiki-light:#B48EAD">   0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   7.3T</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> part</span></span></code></pre>
<h3 id="hdd-を準備する"><a href="#hdd-を準備する">HDD を準備する</a></h3>
<p><code>fdisk -l</code> で HDD の状況を確認します。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -l</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sdb</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">The</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> backup</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> GPT</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> table</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> is</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> not</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> on</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> the</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> end</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> the</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> device.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sdb:</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7.28</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TiB,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 8001563222016</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15628053168</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> model:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> USB3.0</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Units:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> *</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> =</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Sector</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">I/O</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (minimum/optimal): 4096 bytes / 33553920 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disklabel</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> type:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> gpt</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> identifier:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 73CB51C4-3EFA-4B6C-8CE8-6DC57EBBA449</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Device</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">     Start</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">         End</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">     Sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Size</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Type</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">/dev/sdb1</span><span style="color:#B48EAD;--shiki-light:#B48EAD">   2048</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15627976670</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15627974623</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  7.3T</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Linux</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> filesystem</span></span></code></pre>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -l</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sdc</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">The</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> backup</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> GPT</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> table</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> is</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> not</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> on</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> the</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> end</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> the</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> device.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sdc:</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7.28</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TiB,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 8001563222016</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15628053168</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> model:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> USB3.0</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Units:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> *</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> =</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Sector</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">I/O</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (minimum/optimal): 4096 bytes / 33553920 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disklabel</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> type:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> gpt</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> identifier:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 73CB51C4-3EFA-4B6C-8CE8-6DC57EBBA449</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Device</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">     Start</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">         End</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">     Sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Size</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Type</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">/dev/sdc1</span><span style="color:#B48EAD;--shiki-light:#B48EAD">   2048</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15627976670</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15627974623</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  7.3T</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Linux</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> filesystem</span></span></code></pre>
<p>両方とも既にパーティションが切られているので初期化します。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sdb</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Welcome</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (util-linux </span><span style="color:#B48EAD;--shiki-light:#B48EAD">2.37.2</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">).</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Changes</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> will</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> remain</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> in</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> memory</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> only,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> until</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> you</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> decide</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> write</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> them.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Be</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> careful</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> before</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> using</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> the</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> write</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> command.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">The</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> backup</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> GPT</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> table</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> is</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> not</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> on</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> the</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> end</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> the</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> device.</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> This</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> problem</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> will</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> be</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> corrected</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> by</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> write.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Command</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (m </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">for</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> help</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">): d</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Selected</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> partition</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Partition</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> has</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> been</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> deleted.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Command</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (m </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">for</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> help</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">): w</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">The</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> table</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> has</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> been</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> altered.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Calling</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ioctl</span><span style="color:#ECEFF4;--shiki-light:#ECEFF4">()</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> re-read</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> table.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Syncing</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> disks.</span></span></code></pre>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sdc</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Welcome</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (util-linux </span><span style="color:#B48EAD;--shiki-light:#B48EAD">2.37.2</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">).</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Changes</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> will</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> remain</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> in</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> memory</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> only,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> until</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> you</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> decide</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> write</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> them.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Be</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> careful</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> before</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> using</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> the</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> write</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> command.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">The</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> backup</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> GPT</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> table</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> is</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> not</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> on</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> the</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> end</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> the</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> device.</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> This</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> problem</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> will</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> be</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> corrected</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> by</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> write.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Command</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (m </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">for</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> help</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">): d</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Selected</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> partition</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Partition</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> has</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> been</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> deleted.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Command</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (m </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">for</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> help</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">): w</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">The</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> table</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> has</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> been</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> altered.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Calling</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ioctl</span><span style="color:#ECEFF4;--shiki-light:#ECEFF4">()</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> re-read</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> table.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Syncing</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> disks.</span></span></code></pre>
<p>確認してみます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -l</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sdb</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sdb:</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7.28</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TiB,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 8001563222016</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15628053168</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> model:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> USB3.0</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Units:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> *</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> =</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Sector</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">I/O</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (minimum/optimal): 4096 bytes / 33553920 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disklabel</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> type:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> gpt</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> identifier:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> A47EC0A5-B6B4-47D4-AB4D-CDD3A75BDEB1</span></span></code></pre>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -l</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sdc</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sdc:</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7.28</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TiB,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 8001563222016</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15628053168</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> model:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> USB3.0</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Units:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> *</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> =</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Sector</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">I/O</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (minimum/optimal): 4096 bytes / 33553920 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disklabel</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> type:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> gpt</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> identifier:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 9A7054DA-C107-4FDA-B2A4-6247D4C540C1</span></span></code></pre>
<p>既に GPT なんで、このままいきます。</p>
<p><code>fdisk</code> をつかってパーティションを作成します。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sdb</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Welcome</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (util-linux </span><span style="color:#B48EAD;--shiki-light:#B48EAD">2.37.2</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">).</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Changes</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> will</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> remain</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> in</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> memory</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> only,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> until</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> you</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> decide</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> write</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> them.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Be</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> careful</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> before</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> using</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> the</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> write</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> command.</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Command</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (m </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">for</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> help</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">): n</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> number</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (1-128, </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">default</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">):</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">First</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sector</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (34-15628053134, </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">default</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2048</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">):</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Last</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sector,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> +/-sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> or</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> +/-size{K,M,G,T,P}</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (2048-15628053134, </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">default</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15628053134</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">):</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Created</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> a</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> new</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> partition</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> type</span><span style="color:#ECEFF4;--shiki-light:#ECEFF4"> '</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">Linux filesystem</span><span style="color:#ECEFF4;--shiki-light:#ECEFF4">'</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> and</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7.3</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TiB.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Command</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (m </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">for</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> help</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">): w</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">The</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> table</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> has</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> been</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> altered.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Calling</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ioctl</span><span style="color:#ECEFF4;--shiki-light:#ECEFF4">()</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> re-read</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> table.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Syncing</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> disks.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -l</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sdb</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sdb:</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7.28</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TiB,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 8001563222016</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15628053168</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> model:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> USB3.0</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Units:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> *</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> =</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Sector</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">I/O</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (minimum/optimal): 4096 bytes / 33553920 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disklabel</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> type:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> gpt</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> identifier:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> A47EC0A5-B6B4-47D4-AB4D-CDD3A75BDEB1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Device</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">     Start</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">         End</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">     Sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Size</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Type</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">/dev/sdb1</span><span style="color:#B48EAD;--shiki-light:#B48EAD">   2048</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15628053134</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15628051087</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  7.3T</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Linux</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> filesystem</span></span></code></pre>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sdc</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Welcome</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (util-linux </span><span style="color:#B48EAD;--shiki-light:#B48EAD">2.37.2</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">).</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Changes</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> will</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> remain</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> in</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> memory</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> only,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> until</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> you</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> decide</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> write</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> them.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Be</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> careful</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> before</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> using</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> the</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> write</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> command.</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Command</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (m </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">for</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> help</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">): n</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> number</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (1-128, </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">default</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">):</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">First</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sector</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (34-15628053134, </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">default</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2048</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">):</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Last</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sector,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> +/-sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> or</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> +/-size{K,M,G,T,P}</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (2048-15628053134, </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">default</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15628053134</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">):</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Created</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> a</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> new</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> partition</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> type</span><span style="color:#ECEFF4;--shiki-light:#ECEFF4"> '</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">Linux filesystem</span><span style="color:#ECEFF4;--shiki-light:#ECEFF4">'</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> and</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7.3</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TiB.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Command</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (m </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">for</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> help</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">): w</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">The</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> table</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> has</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> been</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> altered.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Calling</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ioctl</span><span style="color:#ECEFF4;--shiki-light:#ECEFF4">()</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> re-read</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> table.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Syncing</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> disks.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -l</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sdc</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sdc:</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7.28</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TiB,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 8001563222016</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15628053168</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> model:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> USB3.0</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Units:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> *</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> =</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Sector</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">I/O</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (minimum/optimal): 4096 bytes / 33553920 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disklabel</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> type:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> gpt</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> identifier:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 9A7054DA-C107-4FDA-B2A4-6247D4C540C1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Device</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">     Start</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">         End</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">     Sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Size</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Type</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">/dev/sdc1</span><span style="color:#B48EAD;--shiki-light:#B48EAD">   2048</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15628053134</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15628051087</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  7.3T</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Linux</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> filesystem</span></span></code></pre>
<h3 id="mdadm-で-raid-1-構成"><a href="#mdadm-で-raid-1-構成">mdadm で RAID 1 構成</a></h3>
<p><code>/dev/sdb1</code> と <code>/dev/sdc1</code> にて RAID 1 として組みます。</p>
<p>RAID アレイを <code>/dev/md0</code> に割り当てます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> mdadm</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> --create</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> --level=raid1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> --raid-devices=2</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sdb1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sdc1</span></span></code></pre>
<p>確認してみます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> mdadm</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> --detail</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md0</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">/dev/md0:</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">           Version</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1.2</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">     Creation</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Time</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Sat</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 07:21:18</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2022</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">        Raid</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Level</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> raid1</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">        Array</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Size</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7813893440</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (7.28 </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">TiB</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 8.00</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TB</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">     Used</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Dev</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Size</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7813893440</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (7.28 </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">TiB</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 8.00</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TB</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">      Raid</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Devices</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">     Total</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Devices</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">       Persistence</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Superblock</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> is</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> persistent</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">     Intent</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Bitmap</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Internal</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">       Update</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Time</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Sat</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 07:26:26</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2022</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">             State</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> clean,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> resyncing</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">    Active</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Devices</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">   Working</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Devices</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">    Failed</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Devices</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 0</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">     Spare</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Devices</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Consistency</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Policy</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bitmap</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">     Resync</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Status</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 0%</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> complete</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">              Name</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> raspberrypi:0</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">  (local </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> host</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> raspberrypi</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">              UUID</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 7726b25c:ae1b5573:5c8b07a6:b8cd3d97</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">            Events</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 61</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">    Number</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   Major</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   Minor</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   RaidDevice</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> State</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">       0</span><span style="color:#B48EAD;--shiki-light:#B48EAD">       8</span><span style="color:#B48EAD;--shiki-light:#B48EAD">       17</span><span style="color:#B48EAD;--shiki-light:#B48EAD">        0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">      active</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sync</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   /dev/sdb1</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">       1</span><span style="color:#B48EAD;--shiki-light:#B48EAD">       8</span><span style="color:#B48EAD;--shiki-light:#B48EAD">       33</span><span style="color:#B48EAD;--shiki-light:#B48EAD">        1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">      active</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sync</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   /dev/sdc1</span></span></code></pre>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -l</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md0</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md0:</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7.28</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TiB,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 8001426882560</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15627786880</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Units:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> *</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> =</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Sector</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">I/O</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (minimum/optimal): 4096 bytes / 33553920 bytes</span></span></code></pre>
<p>問題なさそうなので、 RAID 情報を保存しておきます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> su</span></span>
<span class="line"><span style="color:#616E88;--shiki-light:#616E88"># mdadm --detail --scan &gt;&gt; /etc/mdadm/mdadm.conf</span></span></code></pre>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> cat</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /etc/mdadm/mdadm.conf</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> |</span><span style="color:#88C0D0;--shiki-light:#88C0D0"> grep</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> md0</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">ARRAY</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> metadata=</span><span style="color:#B48EAD;--shiki-light:#B48EAD">1.2</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> name=raspberrypi:0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> UUID=7726b25c:ae1b5573:5c8b07a6:b8cd3d97</span></span></code></pre>
<h3 id="フォーマット"><a href="#フォーマット">フォーマット</a></h3>
<p>ext4 でフォーマットします。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> mkfs</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -t</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ext4</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md0</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">mke2fs</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1.46.5</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (30-Dec-2021)</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Creating</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> filesystem</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> with</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1953473360</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 4k</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> blocks</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> and</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 244187136</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> inodes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Filesystem</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> UUID:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> c4c32dec-facd-4ad7-bd43-527953a241d9</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Superblock</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> backups</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> stored</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> on</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> blocks:</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">        32768,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 98304,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 163840,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 229376,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 294912,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 819200,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 884736,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 1605632,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 2654208,</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">        4096000,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 7962624,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 11239424,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 20480000,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 23887872,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 71663616,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 78675968,</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">        102400000,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 214990848,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 512000000,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 550731776,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 644972544,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1934917632</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Allocating</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> group</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> tables:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> done</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Writing</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> inode</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> tables:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> done</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Creating</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> journal</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (262144 </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">blocks</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">): </span><span style="color:#81A1C1;--shiki-light:#81A1C1">done</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Writing</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> superblocks</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> and</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> filesystem</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> accounting</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> information:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> done</span></span></code></pre>
<p>確認してみます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> parted</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -l</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88;--shiki-light:#616E88">### 中略</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Model:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Linux</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Software</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> RAID</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Array</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (md)</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md0:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 8001GB</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Sector</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (logical/physical): 512B/512B</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Table:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> loop</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Flags:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Number</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Start</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  End</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">     Size</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">    File</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> system</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Flags</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0"> 1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">      0.00B</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  8001GB</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  8001GB</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  ext4</span></span></code></pre>
<h3 id="再起動してみる"><a href="#再起動してみる">再起動してみる</a></h3>
<p>ここで再起動後も問題なく RAID 構成が認識するか確認してみます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> reboot</span></span></code></pre>
<p>再起動後に確認してみます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -l</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md0</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">fdisk:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> cannot</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> open</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md0:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> No</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> such</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> file</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> or</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> directory</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> mdadm</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> --detail</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md0</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">mdadm:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> cannot</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> open</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md1:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> No</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> such</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> file</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> or</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> directory</span></span></code></pre>
<p>あれ…。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> parted</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -l</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88;--shiki-light:#616E88">### 中略</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Model:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Linux</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Software</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> RAID</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Array</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (md)</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md127:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 8001GB</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Sector</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (logical/physical): 512B/512B</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Table:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> loop</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Flags:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Number</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Start</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  End</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">     Size</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">    File</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> system</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Flags</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0"> 1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">      0.00B</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  8001GB</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  8001GB</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  ext4</span></span></code></pre>
<p>何故か <code>/dev/md127</code> があります。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -l</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md127</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md127:</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7.28</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TiB,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 8001426882560</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15627786880</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Units:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> *</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> =</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Sector</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">I/O</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (minimum/optimal): 4096 bytes / 33553920 bytes</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> mdadm</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> --detail</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md127</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">/dev/md127:</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">           Version</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1.2</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">     Creation</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Time</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Sat</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 07:21:18</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2022</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">        Raid</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Level</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> raid1</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">        Array</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Size</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7813893440</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (7.28 </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">TiB</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 8.00</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TB</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">     Used</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Dev</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Size</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7813893440</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (7.28 </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">TiB</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 8.00</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TB</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">      Raid</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Devices</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">     Total</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Devices</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">       Persistence</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Superblock</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> is</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> persistent</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">     Intent</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Bitmap</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Internal</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">       Update</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Time</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Sat</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 07:40:36</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2022</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">             State</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> clean,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> resyncing</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (PENDING)</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">    Active</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Devices</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">   Working</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Devices</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">    Failed</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Devices</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 0</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">     Spare</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Devices</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Consistency</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Policy</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bitmap</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">              Name</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> raspberrypi:0</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">  (local </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> host</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> raspberrypi</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">              UUID</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 7726b25c:ae1b5573:5c8b07a6:b8cd3d97</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">            Events</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 226</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">    Number</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   Major</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   Minor</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   RaidDevice</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> State</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">       0</span><span style="color:#B48EAD;--shiki-light:#B48EAD">       8</span><span style="color:#B48EAD;--shiki-light:#B48EAD">       17</span><span style="color:#B48EAD;--shiki-light:#B48EAD">        0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">      active</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sync</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   /dev/sdb1</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">       1</span><span style="color:#B48EAD;--shiki-light:#B48EAD">       8</span><span style="color:#B48EAD;--shiki-light:#B48EAD">       33</span><span style="color:#B48EAD;--shiki-light:#B48EAD">        1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">      active</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sync</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   /dev/sdc1</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">ansanloms@raspberrypi:~$</span></span></code></pre>
<p><code>/dev/md127</code> を確認すると想定通りの RAID 構成になっています。</p>
<p>念の為 <code>/etc/mdadm/mdadm.conf</code> を確認してみます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> cat</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /etc/mdadm/mdadm.conf</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> |</span><span style="color:#88C0D0;--shiki-light:#88C0D0"> grep</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> md0</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">ARRAY</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> metadata=</span><span style="color:#B48EAD;--shiki-light:#B48EAD">1.2</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> name=raspberrypi:0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> UUID=7726b25c:ae1b5573:5c8b07a6:b8cd3d97</span></span></code></pre>
<p><code>/dev/md0</code> の構成になっています。</p>
<p>どうも initramfs 上にあるディスク情報が実際のディスク情報と異なる場合、デバイス名は md127 から降順で自動的に振られるとのことです。</p>
<p>なんで更新します。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> update-initramfs</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -u</span></span></code></pre>
<p>再起動します。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> reboot</span></span></code></pre>
<p>再起動後に確認してみます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -l</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md0</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md0:</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7.28</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TiB,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 8001426882560</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15627786880</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Units:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> *</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> =</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Sector</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">I/O</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (minimum/optimal): 4096 bytes / 33553920 bytes</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> mdadm</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> --detail</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md0</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">/dev/md0:</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">           Version</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1.2</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">     Creation</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Time</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Sat</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 07:21:18</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2022</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">        Raid</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Level</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> raid1</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">        Array</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Size</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7813893440</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (7.28 </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">TiB</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 8.00</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TB</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">     Used</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Dev</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Size</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7813893440</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (7.28 </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">TiB</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 8.00</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TB</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">      Raid</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Devices</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">     Total</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Devices</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">       Persistence</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Superblock</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> is</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> persistent</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">     Intent</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Bitmap</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Internal</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">       Update</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Time</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Sat</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 08:19:38</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2022</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">             State</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> clean,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> resyncing</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">    Active</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Devices</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">   Working</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Devices</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">    Failed</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Devices</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 0</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">     Spare</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Devices</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Consistency</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Policy</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bitmap</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">     Resync</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Status</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 0%</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> complete</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">              Name</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> raspberrypi:0</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">  (local </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> host</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> raspberrypi</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">)</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">              UUID</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 7726b25c:ae1b5573:5c8b07a6:b8cd3d97</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">            Events</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> :</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 393</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">    Number</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   Major</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   Minor</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   RaidDevice</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> State</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">       0</span><span style="color:#B48EAD;--shiki-light:#B48EAD">       8</span><span style="color:#B48EAD;--shiki-light:#B48EAD">       17</span><span style="color:#B48EAD;--shiki-light:#B48EAD">        0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">      active</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sync</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   /dev/sdb1</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">       1</span><span style="color:#B48EAD;--shiki-light:#B48EAD">       8</span><span style="color:#B48EAD;--shiki-light:#B48EAD">       33</span><span style="color:#B48EAD;--shiki-light:#B48EAD">        1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">      active</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sync</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   /dev/sdc1</span></span></code></pre>
<p>うまくいきました。</p>
<h3 id="マウントする"><a href="#マウントする">マウントする</a></h3>
<p><code>/dev/md0</code> を <code>/mnt/media</code> にマウントします。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> mkdir</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -p</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> mount</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -t</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ext4</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/md0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> df</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -h</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> |</span><span style="color:#88C0D0;--shiki-light:#88C0D0"> grep</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> md0</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">/dev/md0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">        7.3T</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   28K</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  6.9T</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   1%</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ll</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">total</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 24</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">drwxr-xr-x</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 3</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> root</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> root</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  4096</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 13:28</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ./</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">drwxr-xr-x</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 3</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> root</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> root</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  4096</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 13:36</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ../</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">drwx------</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> root</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> root</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 16384</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 13:28</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> lost+found/</span></span></code></pre>
<p>所有者が root になっているので、自分のユーザに変えます。あわせて実際にファイルが設置できるか確認してみます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> chown</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -R</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms:ansanloms</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> touch</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media/test.txt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ll</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">total</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 24</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">drwxr-xr-x</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 3</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  4096</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 13:38</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ./</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">drwxr-xr-x</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 3</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> root</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">      root</span><span style="color:#B48EAD;--shiki-light:#B48EAD">       4096</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 13:36</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ../</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">drwx------</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 16384</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 13:28</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> lost+found/</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">-rw-rw-r--</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#B48EAD;--shiki-light:#B48EAD">     0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 13:38</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> test.txt</span></span></code></pre>
<p><code>fstab</code> に記述します。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> vim</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /etc/fstab</span></span></code></pre>
<pre><code class="language-conf"># media
/dev/md0     /mnt/media    ext4    defaults    0   0
</code></pre>
<p><code>fstab</code> の設定をもってマウントされるか確認します。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> umount</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> df</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -h</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> |</span><span style="color:#88C0D0;--shiki-light:#88C0D0"> grep</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> media</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> mount</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -a</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> df</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -h</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> |</span><span style="color:#88C0D0;--shiki-light:#88C0D0"> grep</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> media</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">/dev/md0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">        7.3T</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   28K</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  6.9T</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   1%</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ll</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">total</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 24</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">drwxr-xr-x</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 3</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  4096</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 13:38</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ./</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">drwxr-xr-x</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 3</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> root</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">      root</span><span style="color:#B48EAD;--shiki-light:#B48EAD">       4096</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 13:36</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ../</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">drwx------</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 16384</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 13:28</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> lost+found/</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">-rw-rw-r--</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#B48EAD;--shiki-light:#B48EAD">     0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 13:38</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> test.txt</span></span></code></pre>
<p>再起動後にも自動的にマウントされるか確認します。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> reboot</span></span></code></pre>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ll</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">total</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 24</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">drwxr-xr-x</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 3</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  4096</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 13:38</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ./</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">drwxr-xr-x</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 3</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> root</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">      root</span><span style="color:#B48EAD;--shiki-light:#B48EAD">       4096</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 13:36</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ../</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">drwx------</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 16384</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 13:28</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> lost+found/</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">-rw-rw-r--</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#B48EAD;--shiki-light:#B48EAD">     0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Nov</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 19</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 13:38</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> test.txt</span></span></code></pre>
<h3 id="データ移行"><a href="#データ移行">データ移行</a></h3>
<p>移行元の HDD を繋ぎます。</p>
<p><code>lsblk</code> で確認すると <code>/dev/sdd1</code> にありました。</p>
<p>マウントします。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> mkdir</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -p</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/old_media</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> mount</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -t</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ext4</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sdd1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/old_media</span></span></code></pre>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> nohup</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> rsync</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -av</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/old_media/.</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media/.</span><span style="color:#ECEFF4;--shiki-light:#ECEFF4"> &amp;</span></span></code></pre></div></article></div></div></body></html>