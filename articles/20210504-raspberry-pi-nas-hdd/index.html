<!DOCTYPE html>
<html lang="ja"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Raspberry Pi 4 に NAS を構築しました(HDD の準備)</title><link rel="stylesheet" href="/blog/styles/palette.css"><link rel="stylesheet" href="/blog/styles/general.css"><link rel="stylesheet" href="/blog/styles/layout.css"><link rel="stylesheet" href="/blog/styles/top.css"><link rel="stylesheet" href="/blog/styles/article.css"></head><body><div class="container"><div class="content"><ul class="meta"><li class="item"><span class="label">Created at</span><span class="value">2021-05-03</span></li></ul><article class="article"><div><h1 id="raspberry-pi-4-に-nas-を構築しましたhdd-の準備"><a href="#raspberry-pi-4-に-nas-を構築しましたhdd-の準備">Raspberry Pi 4 に NAS を構築しました(HDD の準備)</a></h1>
<p><a href="/blog/articles/20210503-raspberry-pi/">先日セットアップした Raspberry Pi 4</a> で NAS をやっていきます。</p>
<h2 id="用意したもの"><a href="#用意したもの">用意したもの</a></h2>
<ul>
<li>Raspberry Pi 4</li>
</ul>
<p><a href="/blog/articles/20210503-raspberry-pi/">先日セットアップした Raspberry Pi 4</a> です。</p>
<ul>
<li>HDD</li>
</ul>
<p>おうちにころがっていた <a href="https://www.iodata.jp/product/hdd/hdd/hdcz-utc/">I-O DATA HDCZ-UT8KC</a> をつかいます。</p>
<p>容量は 8 TB です。</p>
<h2 id="実施内容"><a href="#実施内容">実施内容</a></h2>
<p>Raspberry Pi に HDD をつないでマウントして Samba をいれます。</p>
<p style="color: red;">以降の手順で HDD 内の全データが消えます。</p>
<h3 id="raspberry-pi-に-hdd-を接続する"><a href="#raspberry-pi-に-hdd-を接続する">Raspberry Pi に HDD を接続する</a></h3>
<p>起動中の Raspberry Pi に HDD をつないで <code>lsblk</code> で HDD を確認します。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> lsblk</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">NAME</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">        MAJ:MIN</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> RM</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  SIZE</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> RO</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TYPE</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> MOUNTPOINT</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">---</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 中略</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">sda</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">           8:0</span><span style="color:#B48EAD;--shiki-light:#B48EAD">    0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  7.3T</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> disk</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">└─sda1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">        8:1</span><span style="color:#B48EAD;--shiki-light:#B48EAD">    0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">    2T</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> part</span></span></code></pre>
<p>ありました。</p>
<p><code>fdisk -l</code> で HDD の状況を確認します。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -l</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sda</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sda:</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7.28</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TiB,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 8001563222016</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15628053168</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> model:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> HDCZ-UT</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Units:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> *</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> =</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Sector</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (logical/physical): 512 bytes / 4096 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">I/O</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (minimum/optimal): 4096 bytes / 4096 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disklabel</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> type:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> dos</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> identifier:</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 0x76024314</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Device</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">     Boot</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Start</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">        End</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">    Sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Size</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Id</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Type</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">/dev/sda1</span><span style="color:#B48EAD;--shiki-light:#B48EAD">        2048</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 4294967295</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 4294965248</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   2T</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  b</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> W95</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> FAT32</span></span></code></pre>
<p>既にパーティションが存在するのでこれを削除してつくりなおします。</p>
<p>あと <code>Disklabel type: dos</code> となっているので <a href="https://ja.wikipedia.org/wiki/%E3%83%9E%E3%82%B9%E3%82%BF%E3%83%BC%E3%83%96%E3%83%BC%E3%83%88%E3%83%AC%E3%82%B3%E3%83%BC%E3%83%89">MBR</a> です。 MBR だと 2 TB 以上のパーティションを作成できないので <a href="https://ja.wikipedia.org/wiki/GUID%E3%83%91%E3%83%BC%E3%83%86%E3%82%A3%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB">GPT</a> に変えます。</p>
<h3 id="既に存在するパーティションを削除"><a href="#既に存在するパーティションを削除">既に存在するパーティションを削除</a></h3>
<p>先ずはパーティションを削除します。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sda</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Welcome</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (util-linux </span><span style="color:#B48EAD;--shiki-light:#B48EAD">2.34</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">).</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Changes</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> will</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> remain</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> in</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> memory</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> only,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> until</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> you</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> decide</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> write</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> them.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Be</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> careful</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> before</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> using</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> the</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> write</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> command.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">The</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> this</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> is</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7.3</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TiB</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (8001563222016 </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">bytes</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">). DOS partition table format cannot be used on drives </span><span style="color:#81A1C1;--shiki-light:#81A1C1">for</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> volumes larger than </span><span style="color:#B48EAD;--shiki-light:#B48EAD">2199023255040</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> bytes for 512-byte sectors. Use GU</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">ID</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> table</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> format</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (GPT).</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Command</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (m </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">for</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> help</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">): d  </span><span style="color:#81A1C1;--shiki-light:#81A1C1">&lt;</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">--- 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Selected</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> partition</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Partition</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> has</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> been</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> deleted.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Command</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (m </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">for</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> help</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">): w  </span><span style="color:#81A1C1;--shiki-light:#81A1C1">&lt;</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">--- 2</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">The</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> table</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> has</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> been</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> altered.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Calling</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ioctl</span><span style="color:#ECEFF4;--shiki-light:#ECEFF4">()</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> re-read</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> table.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Syncing</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> disks.</span></span></code></pre>
<ol>
<li>パーティションを削除します。パーティションが複数存在する場合はこの後にどのパーティションを削除するか尋ねられます。今回は 1 つしかパーティションがなかったのでそのまま削除されました。</li>
<li>変更を保存して終了します。</li>
</ol>
<p>確認してみます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -l</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sda</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sda:</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7.28</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TiB,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 8001563222016</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15628053168</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> model:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> HDCZ-UT</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Units:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> *</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> =</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Sector</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (logical/physical): 512 bytes / 4096 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">I/O</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (minimum/optimal): 4096 bytes / 4096 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disklabel</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> type:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> dos</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> identifier:</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 0x76024314</span></span></code></pre>
<p>消えました。</p>
<h3 id="gpt-にする"><a href="#gpt-にする">GPT にする</a></h3>
<p><code>parted</code> をつかって GPT にします。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> parted</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sda</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">GNU</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Parted</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 3.3</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Using</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sda</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Welcome</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> GNU</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Parted!</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Type</span><span style="color:#ECEFF4;--shiki-light:#ECEFF4"> '</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">help</span><span style="color:#ECEFF4;--shiki-light:#ECEFF4">'</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> view</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> a</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> list</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> commands.</span></span>
<span class="line"><span style="color:#ECEFF4;--shiki-light:#ECEFF4">(</span><span style="color:#88C0D0;--shiki-light:#88C0D0">parted</span><span style="color:#ECEFF4;--shiki-light:#ECEFF4">)</span><span style="color:#88C0D0;--shiki-light:#88C0D0"> print</span><span style="color:#81A1C1;--shiki-light:#81A1C1">          &lt;</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">---</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Model:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> I-O</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> DATA</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> HDCZ-UT</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (scsi)</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sda:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 8002GB</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Sector</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (logical/physical): 512B/4096B</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Table:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> msdos</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Flags:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Number</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Start</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  End</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Size</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Type</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  File</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> system</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Flags</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ECEFF4;--shiki-light:#ECEFF4">(</span><span style="color:#88C0D0;--shiki-light:#88C0D0">parted</span><span style="color:#ECEFF4;--shiki-light:#ECEFF4">)</span><span style="color:#88C0D0;--shiki-light:#88C0D0"> mklabel</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> gpt</span><span style="color:#81A1C1;--shiki-light:#81A1C1">    &lt;</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">---</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Warning:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> The</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> existing</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> label</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> on</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sda</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> will</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> be</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> destroyed</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> and</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> all</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> data</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> on</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> this</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> will</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> be</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> lost.</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Do</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> you</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> want</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> continue?</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Yes/No?</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> y</span></span>
<span class="line"><span style="color:#ECEFF4;--shiki-light:#ECEFF4">(</span><span style="color:#88C0D0;--shiki-light:#88C0D0">parted</span><span style="color:#ECEFF4;--shiki-light:#ECEFF4">)</span><span style="color:#88C0D0;--shiki-light:#88C0D0"> print</span><span style="color:#81A1C1;--shiki-light:#81A1C1">          &lt;</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">---</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 3</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Model:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> I-O</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> DATA</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> HDCZ-UT</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (scsi)</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sda:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 8002GB</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Sector</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (logical/physical): 512B/4096B</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Table:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> gpt</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Flags:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Number</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Start</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  End</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Size</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  File</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> system</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Name</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Flags</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ECEFF4;--shiki-light:#ECEFF4">(</span><span style="color:#88C0D0;--shiki-light:#88C0D0">parted</span><span style="color:#ECEFF4;--shiki-light:#ECEFF4">)</span><span style="color:#88C0D0;--shiki-light:#88C0D0"> quit</span><span style="color:#81A1C1;--shiki-light:#81A1C1">           &lt;</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">---</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 4</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Information:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> You</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> may</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> need</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> update</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /etc/fstab.</span></span></code></pre>
<ol>
<li><code>print</code> で念の為現行のディスク情報を確認します。 <code>Partition Table: msdos</code> となっているので MBR です。</li>
<li><code>mklabel gpt</code> で GPT に変更します。 <strong>ディスク上の全データが削除される</strong> ので問題なければ <code>y</code> とします。すぐおわります。</li>
<li>再度 <code>print</code> でディスク情報を確認します。 <code>Partition Table: gpt</code> となっているので GPT です。</li>
<li><code>quit</code> で終了します。</li>
</ol>
<p>fdisk でも確認してみます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -l</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sda</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sda:</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7.28</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TiB,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 8001563222016</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15628053168</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> model:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> HDCZ-UT</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Units:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> *</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> =</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Sector</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (logical/physical): 512 bytes / 4096 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">I/O</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (minimum/optimal): 4096 bytes / 4096 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disklabel</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> type:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> gpt</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> identifier:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 5647BD4F-A277-459D-9F06-741C66266ACC</span></span></code></pre>
<p><code>Disklabel type: gpt</code> になっています。</p>
<h3 id="パーティションを作成"><a href="#パーティションを作成">パーティションを作成</a></h3>
<p>今回は <code>fdisk</code> をつかってパーティションを作成します。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sda</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Welcome</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (util-linux </span><span style="color:#B48EAD;--shiki-light:#B48EAD">2.34</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">).</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Changes</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> will</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> remain</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> in</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> memory</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> only,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> until</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> you</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> decide</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> write</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> them.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Be</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> careful</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> before</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> using</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> the</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> write</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> command.</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Command</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (m </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">for</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> help</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">): n   </span><span style="color:#81A1C1;--shiki-light:#81A1C1">&lt;</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">--- 1</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> number</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (1-128, </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">default</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">):            </span><span style="color:#81A1C1;--shiki-light:#81A1C1">&lt;</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">--- 2</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">First</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sector</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (34-15628053134, </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">default</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2048</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">):    </span><span style="color:#81A1C1;--shiki-light:#81A1C1">&lt;</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">--- 3</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Last</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sector,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> +/-sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> or</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> +/-size{K,M,G,T,P}</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (2048-15628053134, </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">default</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15628053134</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">):    </span><span style="color:#81A1C1;--shiki-light:#81A1C1">&lt;</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">--- 4</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Created</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> a</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> new</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> partition</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> type</span><span style="color:#ECEFF4;--shiki-light:#ECEFF4"> '</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">Linux filesystem</span><span style="color:#ECEFF4;--shiki-light:#ECEFF4">'</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> and</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7.3</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TiB.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Command</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (m </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">for</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> help</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">): w   </span><span style="color:#81A1C1;--shiki-light:#81A1C1">&lt;</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">--- 5</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">The</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> table</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> has</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> been</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> altered.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Calling</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ioctl</span><span style="color:#ECEFF4;--shiki-light:#ECEFF4">()</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> to</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> re-read</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> table.</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Syncing</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> disks.</span></span></code></pre>
<ol>
<li><code>n</code> でパーティションを作成します。</li>
<li>パーティション番号を指定します。デフォルトの <code>1</code> でいいのでそのまあ Enter を押下します。</li>
<li>開始位置セクタを指定します。特になにもなければデフォルトでいきます。</li>
<li>終了位置セクタを指定します。今回は HDD に 1 こしかパーティションきらないつもりなのでそのままデフォルトでいきます。</li>
<li>保存して終了します。</li>
</ol>
<p>確認してみます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> fdisk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -l</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sda</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sda:</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 7.28</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> TiB,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 8001563222016</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15628053168</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> model:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> HDCZ-UT</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Units:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> of</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> *</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> =</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 512</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Sector</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (logical/physical): 512 bytes / 4096 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">I/O</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (minimum/optimal): 4096 bytes / 4096 bytes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disklabel</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> type:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> gpt</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> identifier:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 5647BD4F-A277-459D-9F06-741C66266ACC</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Device</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">     Start</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">         End</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">     Sectors</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Size</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Type</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">/dev/sda1</span><span style="color:#B48EAD;--shiki-light:#B48EAD">   2048</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15628053134</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 15628051087</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  7.3T</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Linux</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> filesystem</span></span></code></pre>
<p>パーティション <code>sda1</code> ができています。</p>
<h3 id="パーティションのフォーマット"><a href="#パーティションのフォーマット">パーティションのフォーマット</a></h3>
<p>作成したパーティションをフォーマットします。ファイルタイプは Ubuntu 標準の <code>ext4</code> にします。</p>
<p>1 分くらいでおわります。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> mkfs</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -t</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ext4</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sda1</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">mke2fs</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1.45.5</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (07-Jan-2020)</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Creating</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> filesystem</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> with</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1953506385</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 4k</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> blocks</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> and</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 244191232</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> inodes</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Filesystem</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> UUID:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> e89e3a74-2a73-4ac3-8e36-6a306b3f57ec</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Superblock</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> backups</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> stored</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> on</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> blocks:</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">        32768,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 98304,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 163840,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 229376,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 294912,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 819200,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 884736,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 1605632,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 2654208,</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">        4096000,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 7962624,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 11239424,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 20480000,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 23887872,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 71663616,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 78675968,</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">        102400000,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 214990848,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 512000000,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 550731776,</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 644972544,</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1934917632</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Allocating</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> group</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> tables:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> done</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Writing</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> inode</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> tables:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> done</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Creating</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> journal</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (262144 </span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">blocks</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF">): </span><span style="color:#81A1C1;--shiki-light:#81A1C1">done</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Writing</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> superblocks</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> and</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> filesystem</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> accounting</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> information:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> done</span></span></code></pre>
<p>確認してみます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> parted</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -l</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Model:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> I-O</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> DATA</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> HDCZ-UT</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (scsi)</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sda:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 8002GB</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Sector</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> size</span><span style="color:#D8DEE9FF;--shiki-light:#D8DEE9FF"> (logical/physical): 512B/4096B</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Partition</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Table:</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> gpt</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Disk</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> Flags:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">Number</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Start</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   End</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">     Size</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">    File</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> system</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Name</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  Flags</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0"> 1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">      1049kB</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  8002GB</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  8002GB</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  ext4</span></span></code></pre>
<p><code>ext4</code> になっています。</p>
<h3 id="マウントする"><a href="#マウントする">マウントする</a></h3>
<p>今回は <code>/mnt/media</code> にマウントします。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> mkdir</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -p</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> mount</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -t</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ext4</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /dev/sda1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media</span></span></code></pre>
<p>確認してみます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> df</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -h</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> |</span><span style="color:#88C0D0;--shiki-light:#88C0D0"> grep</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sda1</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">/dev/sda1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">       7.3T</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   93M</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  6.9T</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   1%</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media</span></span></code></pre>
<p>マウントされました。マウント先を確認してみます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ll</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">total</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 24</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">drwxr-xr-x</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 3</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> root</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> root</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  4096</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> May</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  4</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 21:01</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ./</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">drwxr-xr-x</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 3</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> root</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> root</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  4096</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> May</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  4</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 21:11</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ../</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">drwx------</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> root</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> root</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 16384</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> May</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  4</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 21:01</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> lost+found/</span></span></code></pre>
<p>所有者が <code>root</code> になっているので、自分のユーザに変えます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> chown</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -R</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms:ansanloms</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media</span></span></code></pre>
<p>実際にファイルが設置できるか確認してみます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> touch</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media/test.txt</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">ansanloms@ubuntu:~$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ll</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">total</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 24</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">drwxr-xr-x</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 3</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  4096</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> May</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  4</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 21:14</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ./</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">drwxr-xr-x</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 3</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> root</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">      root</span><span style="color:#B48EAD;--shiki-light:#B48EAD">       4096</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> May</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  4</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 21:11</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ../</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">drwx------</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 2</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 16384</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> May</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  4</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 21:01</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> lost+found/</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">-rw-rw-r--</span><span style="color:#B48EAD;--shiki-light:#B48EAD"> 1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> ansanloms</span><span style="color:#B48EAD;--shiki-light:#B48EAD">     0</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> May</span><span style="color:#B48EAD;--shiki-light:#B48EAD">  4</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> 21:14</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> test.txt</span></span></code></pre>
<p>できました。</p>
<h3 id="fstab-に記述する"><a href="#fstab-に記述する">fstab に記述する</a></h3>
<p>このままだと再起動するとアンマウントされるので、起動時もマウントされるように <code>/etc/fstab</code> に追記します。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> cp</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -p</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /etc/fstab</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /etc/fstab.20210504</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> vim</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /etc/fstab</span></span></code></pre>
<pre><code class="language-ini:/etc/fstab"># media
/dev/sda1     /mnt/media    ext4    defaults    0   0
</code></pre>
<p>fstab の設定でちゃんとマウントされるか確認する為に、一旦アンマウントします。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> umount</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media</span></span></code></pre>
<p>アンマウントされたことを確認します。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">df</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -h</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> |</span><span style="color:#88C0D0;--shiki-light:#88C0D0"> grep</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> media</span></span></code></pre>
<p><code>mount -a</code> で fstab の内容からもマウントされます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> mount</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -a</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> df</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -h</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> |</span><span style="color:#88C0D0;--shiki-light:#88C0D0"> grep</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> media</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">/dev/sda1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">       7.3T</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   93M</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  6.9T</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   1%</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media</span></span></code></pre>
<p>問題なさそうです。</p>
<p>再起動してみます。</p>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">sudo</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> reboot</span></span></code></pre>
<pre class="shiki shiki-themes nord nord" style="background-color:#2e3440ff;--shiki-light-bg:#2e3440ff;color:#d8dee9ff;--shiki-light:#d8dee9ff" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">$</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> df</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> -h</span><span style="color:#81A1C1;--shiki-light:#81A1C1"> |</span><span style="color:#88C0D0;--shiki-light:#88C0D0"> grep</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> media</span></span>
<span class="line"><span style="color:#88C0D0;--shiki-light:#88C0D0">/dev/sda1</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">       7.3T</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   93M</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">  6.9T</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C">   1%</span><span style="color:#A3BE8C;--shiki-light:#A3BE8C"> /mnt/media</span></span></code></pre>
<p>再起動後もちゃんとマウントされていました。よかったですね。</p>
<h2 id="ここまで"><a href="#ここまで">ここまで</a></h2>
<p>次回は samba のセットアップをします。</p></div></article></div></div></body></html>